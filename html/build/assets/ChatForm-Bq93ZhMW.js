import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as n,d as h,o as r,F as g,r as v,a as s,h as f,t as a,n as x,i as y,w as b,v as C,z as w}from"./app-DMTjTVQZ.js";const I={key:0,class:"chat"},k={class:"header"},M={class:"time-ago"},F={class:"text-muted"},N={__name:"ChatMessages",props:{messages:Object,sender:String},setup(t){const o=t;return console.log(o),(l,d)=>t.messages.length>0?(r(),n("ul",I,[(r(!0),n(g,null,v(t.messages,e=>(r(),n("li",{class:"left clearfix",key:e.id},[s("div",{class:x(["chat-body clearfix",{new:e.isNew,"chat-sent-by-me":o.sender&&o.sender.id===e.sender_id}])},[s("div",k,[s("strong",null,[f(a(e.sender.email)+" ",1),s("span",M,a(e.timestamp),1)])]),s("p",null,a(e.message),1),s("div",null,[s("small",F,a(e.created_at),1)])],2)]))),128))])):h("",!0)}},j=p(N,[["__scopeId","data-v-2667144d"]]),V={class:"input-group"},$={class:"input-group-append"},z=["disabled"],D={__name:"ChatForm",props:{sender:Object,roomId:String},emits:["messagesent"],setup(t,{emit:o}){const l=t,d=o,e=y(""),c=l.sender,i=l.roomId;console.log("roomId in ChatForm",i),console.log(c);const m=()=>{e.value&&(d("messagesent",{sender:c,message:e.value,roomId:i,sender_id:c.id}),e.value="")};return(B,u)=>(r(),n("div",V,[b(s("input",{type:"text",class:"form-control",placeholder:"Entrez votre message...","onUpdate:modelValue":u[0]||(u[0]=_=>e.value=_),onKeyup:w(m,["enter"])},null,544),[[C,e.value]]),s("div",$,[s("button",{class:"btn btn-primary",onClick:m,disabled:!e.value}," Envoyer ",8,z)])]))}};export{j as C,D as _};
