import{j as f,o as u,g as a,p as y,h as o,c,d as l,t as k,u as n,P as i,x as B,k as L,i as b,a as t,b as r,n as h,f as P}from"./app-DMTjTVQZ.js";import{V as q}from"./VisitorBreadcrumbs-D33gSTMY.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={key:0,class:"message-counter"},N={__name:"ChatLinkWithCounter",props:{chatRoute:{type:String,required:!0},messageCount:{type:Number,default:0}},setup(m){return(C,d)=>(u(),f(n(i),{href:m.chatRoute,class:"sidebar-item chat-link-with-counter"},{default:a(()=>[y(C.$slots,"default",{},()=>[d[0]||(d[0]=o("Chat Privé"))],!0),d[1]||(d[1]=o()),m.messageCount>0?(u(),c("span",D,k(m.messageCount),1)):l("",!0)]),_:3},8,["href"]))}},A=M(N,[["__scopeId","data-v-bf73cea7"]]),I={class:"visitor-layout"},R={class:"visitor-header"},E={class:"visitor-nav"},O={class:"nav-left"},T={class:"visitor-sidebar-nav"},W={key:0,class:"submenu"},j={class:"mon-compte-dropdown"},z={key:4,class:"dropdown-item user-email"},F={class:"visitor-main"},Y={class:"visitor-footer"},G={__name:"VisitorLayout",setup(m){const C=B(),d=L(()=>C.props.breadcrumbs||[]),v=b(!1),g=b(!1),p=b(!1),w=()=>{v.value=!v.value},$=()=>{g.value=!g.value,p.value=!1,v.value=!1},V=()=>{p.value=!p.value},S=b(1);return(s,e)=>(u(),c("div",I,[t("header",R,[t("nav",E,[t("div",O,[r(n(i),{href:s.route("home"),class:"nav-brand"},{default:a(()=>e[0]||(e[0]=[o("Site Immobilier")])),_:1},8,["href"])]),t("div",{class:h(["hamburger-icon",{open:g.value}]),onClick:$},e[1]||(e[1]=[t("span",{class:"line line1"},null,-1),t("span",{class:"line line2"},null,-1),t("span",{class:"line line3"},null,-1)]),2)])]),t("aside",{class:h(["visitor-sidebar",{"sidebar-open":g.value}])},[t("nav",T,[r(n(i),{href:s.route("biens.index"),class:"sidebar-item"},{default:a(()=>e[2]||(e[2]=[o("Biens")])),_:1},8,["href"]),t("div",{class:h(["sidebar-item has-submenu",{active:p.value}]),onClick:V},[e[5]||(e[5]=t("span",null,[o("Agences "),t("i",{class:"fas fa-caret-down submenu-arrow"})],-1)),p.value?(u(),c("div",W,[r(n(i),{href:s.route("agences.index"),class:"submenu-item"},{default:a(()=>e[3]||(e[3]=[o("Liste des Agences")])),_:1},8,["href"]),s.$page.props.auth.visiteur?l("",!0):(u(),f(n(i),{key:0,href:s.route("agence.inscription"),class:"submenu-item"},{default:a(()=>e[4]||(e[4]=[o("Devenir agence")])),_:1},8,["href"]))])):l("",!0)],2),r(n(i),{href:s.route("a-propos"),class:"sidebar-item"},{default:a(()=>e[6]||(e[6]=[o("À propos")])),_:1},8,["href"]),r(n(i),{href:s.route("mentions-legales"),class:"sidebar-item"},{default:a(()=>e[7]||(e[7]=[o("Mentions Légales")])),_:1},8,["href"]),r(n(i),{href:s.route("politique-confidentialite"),class:"sidebar-item"},{default:a(()=>e[8]||(e[8]=[o("Politique de Confidentialité")])),_:1},8,["href"]),r(A,{chatRoute:s.route("chat.index"),messageCount:S.value,class:"sidebar-item"},{default:a(()=>e[9]||(e[9]=[o(" Messages Privés ")])),_:1},8,["chatRoute","messageCount"]),t("div",{class:h(["mon-compte-menu sidebar-item",{active:v.value}]),onClick:P(w,["prevent"])},[e[14]||(e[14]=t("span",{class:"mon-compte-label"},"Mon compte",-1)),t("div",j,[s.$page.props.auth?l("",!0):(u(),f(n(i),{key:0,href:s.route("visiteur.connexion"),class:"dropdown-item"},{default:a(()=>e[10]||(e[10]=[o("Se connecter")])),_:1},8,["href"])),s.$page.props.auth.agence?(u(),f(n(i),{key:1,href:s.route("agence.connexion"),class:"dropdown-item"},{default:a(()=>e[11]||(e[11]=[o("Espace agence")])),_:1},8,["href"])):l("",!0),s.$page.props.auth.visiteur?(u(),f(n(i),{key:2,href:s.route("visiteur.deconnexion"),method:"post",as:"button",class:"dropdown-item"},{default:a(()=>e[12]||(e[12]=[o("Déconnexion")])),_:1},8,["href"])):l("",!0),s.$page.props.auth.agence?(u(),f(n(i),{key:3,href:s.route("agence.deconnexion"),method:"post",as:"button",class:"dropdown-item"},{default:a(()=>e[13]||(e[13]=[o("Déconnexion")])),_:1},8,["href"])):l("",!0),s.$page.props.auth.visiteur?(u(),c("span",z,k(s.$page.props.auth.visiteur.email),1)):l("",!0)])],2)])],2),r(q,{breadcrumbs:d.value},null,8,["breadcrumbs"]),t("main",F,[y(s.$slots,"default",{},void 0,!0)]),t("footer",Y,[t("p",null,"© "+k(new Date().getFullYear())+" Site Immobilier. Tous droits réservés.",1),r(n(i),{href:s.route("mentions-legales"),class:"footer-link"},{default:a(()=>e[15]||(e[15]=[o("Mentions Légales")])),_:1},8,["href"]),r(n(i),{href:s.route("politique-confidentialite"),class:"footer-link"},{default:a(()=>e[16]||(e[16]=[o("Politique de Confidentialité")])),_:1},8,["href"])])]))}},Q=M(G,[["__scopeId","data-v-f783f163"]]);export{Q as V};
