import{C as f,c as n,o as l,a as i,w as m,d as a,v as b,u as s,t as p,e as _,f as g}from"./app-DMTjTVQZ.js";import{A as y}from"./AgenceLayout-BmT00Pvm.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VisitorBreadcrumbs-D33gSTMY.js";const x={class:"edit-bien-container"},k={class:"form-group"},V={key:0,class:"error"},U={class:"form-group"},I={key:0,class:"error"},A={class:"form-group"},D={key:0,class:"error"},M={class:"form-group"},S={key:0,class:"error"},T={class:"form-group"},E={key:0,class:"error"},N={class:"form-group"},w={key:0,class:"error"},B={class:"form-group"},C={key:0,class:"error"},j={class:"form-group"},F={key:0,class:"error"},L={class:"form-group"},O={key:0,class:"error"},P={class:"form-group"},$={key:0,class:"error"},q={class:"form-group"},z={key:0,class:"error"},G={class:"form-group"},H={key:0,class:"error"},J=["src"],K={class:"form-group"},Q={key:0,class:"error"},R=["disabled"],W=Object.assign({layout:y},{__name:"Edit",props:{bien:Object},setup(u){const d=u,e=f({titre:d.bien.titre,description:d.bien.description,prix:d.bien.prix,adresse:d.bien.adresse,ville:d.bien.ville,superficie:d.bien.superficie,nombre_pieces:d.bien.nombre_pieces,nombre_chambres:d.bien.nombre_chambres,nombre_salles_de_bain:d.bien.nombre_salles_de_bain,type_bien:d.bien.type_bien,type_transaction:d.bien.type_transaction,image_principale:null,images_secondaires:[]}),c=()=>{let t=new FormData;t.append("titre",e.titre),t.append("description",e.description),t.append("prix",e.prix),t.append("adresse",e.adresse),t.append("ville",e.ville),t.append("superficie",e.superficie),t.append("nombre_pieces",e.nombre_pieces),t.append("nombre_chambres",e.nombre_chambres),t.append("nombre_salles_de_bain",e.nombre_salles_de_bain),t.append("type_bien",e.type_bien),t.append("type_transaction",e.type_transaction),e.image_principale&&t.append("image_principale",e.image_principale),e.images_secondaires.forEach(r=>{t.append("images_secondaires[]",r)}),e.post(route("agence.biens.update",{bien:d.bien.id}),t,{headers:{"Content-Type":"multipart/form-data"},transformFormData:!1},{onStart:()=>{e.errors={},e.processing=!0},onSuccess:()=>{e.processing=!1},onError:r=>{e.processing=!1,e.errors=r}})};return(t,r)=>(l(),n("div",x,[r[28]||(r[28]=i("h1",{class:"edit-bien-title"},"Modifier un Bien Immobilier",-1)),i("form",{onSubmit:g(c,["prevent"]),class:"edit-bien-form"},[i("div",k,[r[13]||(r[13]=i("label",{for:"titre",class:"form-label"},"Titre",-1)),m(i("input",{type:"text",id:"titre","onUpdate:modelValue":r[0]||(r[0]=o=>s(e).titre=o),class:"form-input"},null,512),[[b,s(e).titre]]),s(e).errors.titre?(l(),n("div",V,p(s(e).errors.titre),1)):a("",!0)]),i("div",U,[r[14]||(r[14]=i("label",{for:"description",class:"form-label"},"Description",-1)),m(i("textarea",{id:"description","onUpdate:modelValue":r[1]||(r[1]=o=>s(e).description=o),class:"form-textarea"},null,512),[[b,s(e).description]]),s(e).errors.description?(l(),n("div",I,p(s(e).errors.description),1)):a("",!0)]),i("div",A,[r[15]||(r[15]=i("label",{for:"prix",class:"form-label"},"Prix",-1)),m(i("input",{type:"number",id:"prix","onUpdate:modelValue":r[2]||(r[2]=o=>s(e).prix=o),class:"form-input"},null,512),[[b,s(e).prix]]),s(e).errors.prix?(l(),n("div",D,p(s(e).errors.prix),1)):a("",!0)]),i("div",M,[r[16]||(r[16]=i("label",{for:"adresse",class:"form-label"},"Adresse",-1)),m(i("input",{type:"text",id:"adresse","onUpdate:modelValue":r[3]||(r[3]=o=>s(e).adresse=o),class:"form-input"},null,512),[[b,s(e).adresse]]),s(e).errors.adresse?(l(),n("div",S,p(s(e).errors.adresse),1)):a("",!0)]),i("div",T,[r[17]||(r[17]=i("label",{for:"ville",class:"form-label"},"Ville",-1)),m(i("input",{type:"text",id:"ville","onUpdate:modelValue":r[4]||(r[4]=o=>s(e).ville=o),class:"form-input"},null,512),[[b,s(e).ville]]),s(e).errors.ville?(l(),n("div",E,p(s(e).errors.ville),1)):a("",!0)]),i("div",N,[r[18]||(r[18]=i("label",{for:"superficie",class:"form-label"},"Superficie (m²)",-1)),m(i("input",{type:"number",id:"superficie","onUpdate:modelValue":r[5]||(r[5]=o=>s(e).superficie=o),class:"form-input"},null,512),[[b,s(e).superficie]]),s(e).errors.superficie?(l(),n("div",w,p(s(e).errors.superficie),1)):a("",!0)]),i("div",B,[r[19]||(r[19]=i("label",{for:"nombre_pieces",class:"form-label"},"Nombre de pièces",-1)),m(i("input",{type:"number",id:"nombre_pieces","onUpdate:modelValue":r[6]||(r[6]=o=>s(e).nombre_pieces=o),class:"form-input"},null,512),[[b,s(e).nombre_pieces]]),s(e).errors.nombre_pieces?(l(),n("div",C,p(s(e).errors.nombre_pieces),1)):a("",!0)]),i("div",j,[r[20]||(r[20]=i("label",{for:"nombre_chambres",class:"form-label"},"Nombre de chambres",-1)),m(i("input",{type:"number",id:"nombre_chambres","onUpdate:modelValue":r[7]||(r[7]=o=>s(e).nombre_chambres=o),class:"form-input"},null,512),[[b,s(e).nombre_chambres]]),s(e).errors.nombre_chambres?(l(),n("div",F,p(s(e).errors.nombre_chambres),1)):a("",!0)]),i("div",L,[r[21]||(r[21]=i("label",{for:"nombre_salles_de_bain",class:"form-label"},"Nombre de salles de bain",-1)),m(i("input",{type:"number",id:"nombre_salles_de_bain","onUpdate:modelValue":r[8]||(r[8]=o=>s(e).nombre_salles_de_bain=o),class:"form-input"},null,512),[[b,s(e).nombre_salles_de_bain]]),s(e).errors.nombre_salles_de_bain?(l(),n("div",O,p(s(e).errors.nombre_salles_de_bain),1)):a("",!0)]),i("div",P,[r[23]||(r[23]=i("label",{for:"type_bien",class:"form-label"},"Type de bien",-1)),m(i("select",{id:"type_bien","onUpdate:modelValue":r[9]||(r[9]=o=>s(e).type_bien=o),class:"form-select"},r[22]||(r[22]=[i("option",{value:"maison"},"Maison",-1),i("option",{value:"appartement"},"Appartement",-1),i("option",{value:"terrain"},"Terrain",-1),i("option",{value:"commerce"},"Commerce",-1)]),512),[[_,s(e).type_bien]]),s(e).errors.type_bien?(l(),n("div",$,p(s(e).errors.type_bien),1)):a("",!0)]),i("div",q,[r[25]||(r[25]=i("label",{for:"type_transaction",class:"form-label"},"Type de transaction",-1)),m(i("select",{id:"type_transaction","onUpdate:modelValue":r[10]||(r[10]=o=>s(e).type_transaction=o),class:"form-select"},r[24]||(r[24]=[i("option",{value:"vente"},"Vente",-1),i("option",{value:"location"},"Location",-1)]),512),[[_,s(e).type_transaction]]),s(e).errors.type_transaction?(l(),n("div",z,p(s(e).errors.type_transaction),1)):a("",!0)]),i("div",G,[r[26]||(r[26]=i("label",{for:"image_principale",class:"form-label"},"Image principale",-1)),i("input",{type:"file",id:"image_principale",name:"image_principale",onInput:r[11]||(r[11]=o=>s(e).image_principale=o.target.files[0]),class:"form-file-input"},null,32),s(e).errors.image_principale?(l(),n("div",H,p(s(e).errors.image_principale),1)):a("",!0),u.bien.image_principale?(l(),n("img",{key:1,src:`/storage/${u.bien.image_principale}`,alt:"Image Principale Actuelle",class:"current-image"},null,8,J)):a("",!0)]),i("div",K,[r[27]||(r[27]=i("label",{for:"images_secondaires",class:"form-label"},"Images secondaires (plusieurs images possibles)",-1)),i("input",{type:"file",id:"images_secondaires",name:"images_secondaires[]",multiple:"",onInput:r[12]||(r[12]=o=>s(e).images_secondaires=Array.from(o.target.files)),class:"form-file-input",accept:"image/*"},null,32),s(e).errors.images_secondaires?(l(),n("div",Q,p(s(e).errors.images_secondaires),1)):a("",!0)]),i("button",{type:"submit",class:"form-button",disabled:s(e).processing},"Modifier",8,R)],32)]))}}),ee=v(W,[["__scopeId","data-v-841589d8"]]);export{ee as default};
