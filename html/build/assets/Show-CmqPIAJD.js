import{C as p,c as a,o,a as e,w as _,d,v as y,u as l,t as c,f as S,i as k,q as $,h as m,b as v,g as x,P as I,I as V,F as w,r as C}from"./app-B4jHxjza.js";import{V as F}from"./VisitorLayout-BJlFWEJK.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VisitorBreadcrumbs-BibWL0Dz.js";const N={class:"contact-form-container"},A={class:"form-group"},B={key:0,class:"error"},D=["disabled"],L={__name:"ContactAgenceForm",props:{bienId:String,agenceId:String},setup(s){const r=s,i=p({message:""}),g=()=>{i.post(route("biens.contact.agence",{bien:r.bienId}))};return(b,t)=>(o(),a("div",N,[t[2]||(t[2]=e("h2",{class:"contact-form-title"},"Contacter l'agence",-1)),e("form",{onSubmit:S(g,["prevent"]),class:"contact-form"},[e("div",A,[t[1]||(t[1]=e("label",{for:"message",class:"form-label"},"Votre message",-1)),_(e("textarea",{id:"message","onUpdate:modelValue":t[0]||(t[0]=n=>l(i).message=n),class:"form-textarea",placeholder:"Saisissez votre message ici..."},null,512),[[y,l(i).message]]),l(i).errors.message?(o(),a("div",B,c(l(i).errors.message),1)):d("",!0)]),e("button",{type:"submit",class:"form-button",disabled:l(i).processing}," Envoyer le message ",8,D)],32)]))}},M=f(L,[["__scopeId","data-v-43201aec"]]),j={class:"bien-detail-container"},z={class:"bien-detail-title"},E={class:"bien-meta-info"},O={class:"agence-link"},P={class:"bien-address"},T={class:"bien-price"},q={class:"type-transaction"},U={class:"bien-image-section"},X={class:"bien-image-slider"},G={class:"slider-container"},H={key:0,class:"slide"},J=["src","alt"],K=["src","alt"],Q={key:0,class:"slider-controls"},R={class:"bien-description-section"},W={class:"bien-description"},Y={key:0,class:"contact-agence-section"},Z={key:1,class:"contact-agence-section"},ee=Object.assign({layout:F},{__name:"Show",props:{bien:Object,roomId:String},setup(s){const r=s,i=k(0),g=()=>{const t=r.bien.images_secondaires.length+(r.bien.image_principale?1:0);i.value=(i.value+1)%t},b=()=>{const t=r.bien.images_secondaires.length+(r.bien.image_principale?1:0);i.value=(i.value-1+t)%t};return $(()=>{i.value=0}),(t,n)=>(o(),a("div",j,[e("h1",z,c(s.bien.titre),1),e("div",E,[e("p",O,[n[0]||(n[0]=m(" Agence: ")),v(l(I),{href:t.route("agences.show",{agence:s.bien.agence.id}),class:"agence-name"},{default:x(()=>[m(c(s.bien.agence.raison_sociale),1)]),_:1},8,["href"])]),e("p",P,[n[1]||(n[1]=e("i",{class:"fas fa-map-marker-alt"},null,-1)),m(" "+c(s.bien.adresse)+", "+c(s.bien.ville),1)]),e("p",T,[n[2]||(n[2]=e("i",{class:"fas fa-euro-sign"},null,-1)),m(" "+c(s.bien.prix)+" € ",1),e("span",q,c(s.bien.type_transaction==="vente"?"(Vente)":"(Location)"),1)])]),e("div",U,[e("div",X,[e("div",G,[e("div",{class:"slider-wrapper",style:V({transform:`translateX(-${i.value*100}%)`})},[s.bien.image_principale?(o(),a("div",H,[e("img",{src:`/storage/${s.bien.image_principale}`,alt:s.bien.titre,class:"slide-image main-image"},null,8,J)])):d("",!0),(o(!0),a(w,null,C(s.bien.images_secondaires,(h,u)=>(o(),a("div",{class:"slide",key:u},[e("img",{src:`/storage/${h.chemin}`,alt:`${s.bien.titre} - Image secondaire ${u+1}`,class:"slide-image secondary-image"},null,8,K)]))),128))],4),s.bien.images_secondaires.length+(s.bien.image_principale?1:0)>1?(o(),a("div",Q,[e("button",{class:"slider-control prev",onClick:b},"❮"),e("button",{class:"slider-control next",onClick:g},"❯")])):d("",!0)])])]),e("div",R,[n[3]||(n[3]=e("h3",{class:"section-title"},"Description",-1)),e("p",W,c(s.bien.description),1)]),t.$page.props.auth.visiteur?(o(),a("div",Y)):d("",!0),t.$page.props.auth.visiteur?(o(),a("div",Z,[v(M,{"bien-id":s.bien.id,"agence-id":s.bien.agence.id},null,8,["bien-id","agence-id"])])):d("",!0)]))}}),ae=f(ee,[["__scopeId","data-v-00774b74"]]);export{ae as default};
